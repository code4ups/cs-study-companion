---
import MainLayout from '../layouts/MainLayout.astro';

// Καμία χρήση Astro.request.headers εδώ!
export const prerender = true;
---

<MainLayout title="CS Study Companion" lang="en">
    <section class="max-w-3xl mx-auto py-12 space-y-6">
        <h1 class="text-3xl font-bold text-indigo-700">CS Study Companion</h1>
        <p class="text-gray-700">Choose your language:</p>

        <div class="flex items-center gap-4">
            <a href="/cs-study-companion/en/introduction" class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700">English</a>
            <a href="/cs-study-companion/el/introduction" class="px-4 py-2 bg-slate-200 text-slate-900 rounded hover:bg-slate-300">Ελληνικά</a>
        </div>

        <!-- Προαιρετικό: client-side auto-redirect με βάση browser locale -->
        <script is:inline>
            try {
                const pref = (navigator.language || '').toLowerCase();
                if (pref.startsWith('el')) {
                    location.replace('/cs-study-companion/el/introduction');
                } else if (pref) {
                    location.replace('/cs-study-companion/en/introduction');
                }
            } catch {}
        </script>
    </section>
</MainLayout>
